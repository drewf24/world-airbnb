---
title: "NYC Airbnnb Popularity Factors"
author: "Team World"
date: "10/24/2019"
output: github_document
---

### Section 1. Introduction

Our topic is based on an Airbnb dataset in New York City for 2019. Ultimately, we hope to determine the best Airbnbs to rent based on variables such as price, location, description, reviews, and availability. We wanted to look at the gig hospitality market in NYC. We plan to compare price by neighborhood and borough which could provide interesting insights into the cost of living in NYC. 

Through Kaggle, we found this data set (https://www.kaggle.com/dgomonov/new-york-city-airbnb-open-data) that was collected, and continues to be updated, in 2019 on Airbnb listings in New York City by a 4th year data science student at Drexel University. The data set includes variables: listing ID, name of the listing, host ID, name of the host, location, neighbourhood, latitude and longitude coordinates, room type, price in dollars, minimum_nights, number of reviews, latest review, number of reviews per month, amount of listing per host and availability. A description of each of these is included in the codebook.

### Section 2. Exploratory data analysis

### Load packages & data

Loaded the tidyverse and broom packages:

```{r load-packages, message=FALSE}
library(tidyverse) 
library(broom)
```

Uploaded the Airbnb data set from Kaggle via a csv file:

```{r load-data, message=FALSE}
abnb <- read_csv("AB_NYC_2019.csv")
```

LOCATION AND PRICE:

Univariate Borough Count (Visualization):

```{r visualization-univariate}
ggplot(data = abnb, mapping = aes(x = neighbourhood_group)) +
  geom_histogram(stat = "count") + 
  labs(title = "Listings by Borough", x = "Borough", y = "Count")
```

Univariate Borough Count (Summary)
```{r neighbourhood_group-count}
abnb %>%
  count(neighbourhood_group) %>%
  arrange(desc(n))
```

```{r price-borough}
abnb %>%
  ggplot(mapping = aes(x = neighbourhood_group, y = price)) +
  geom_boxplot() + 
  labs(title = "Price of Listings by Borough", x = "Borough", y = "Price")
```

```{r summarise-price}
abnb %>%
  group_by(neighbourhood_group) %>%
  summarise(
    med_price = median(price), 
    IQR_price = IQR(price)
    ) %>%
  arrange(desc(med_price)) %>%
  head(5)
```


```{r neighbourhood_group-neighbourhood}
abnb %>%
  group_by(neighbourhood_group, neighbourhood) %>%
  summarise(median_price = median(price)) %>%
  arrange(desc(median_price)) %>%
  head(5)
```


LISTING DETAILS AND AVAILABILITY


```{r message=FALSE}
abnb %>%
  ggplot(mapping = aes(x = availability_365)) +
  geom_histogram(binwidth=80) + 
  labs(title = "Availability of Listings Distribution",
       x = "Availability (days per year)",
       y = "Count"
  )
```

```{r room_type-availability_365, message=FALSE}
abnb %>%
  ggplot(mapping = aes(x =  reviews_per_month, y = availability_365, color = room_type)) +
  geom_point(alpha=0.2) + 
  labs(
    title = "Availability and Number of Reviews",
    x = "Number of Reviews", 
    y = "Availability (days per year)")
```

```{r}
abnb %>%
  mutate(avail = ifelse(availability_365 > median(availability_365), "more", "less")) %>%
  filter(avail == "more") %>%
  ggplot(mapping = aes(x =  number_of_reviews, y = availability_365, color = room_type)) +
  geom_point() + 
  labs(
    title = "Availability and Number of Reviews by Room Type",
    subtitle = "Below Median Availability",
    x = "Number of Reviews", 
    y = "Availability (days per year)")
```


### Section 3. Research questions

How does location (borough and neighborhood, for example) influence the price of a listing?

How does the way in which a property is listed (type of room, for example) influence the availability of a listing?

### Section 4. Data

Used the glimpse function to show information about and part of abnb:

```{r glimpse}
glimpse(abnb)
```

